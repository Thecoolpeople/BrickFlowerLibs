<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TESTING</title>
    
    <script src="../pre.js"></script>
    <script src="mindmap.js"></script>
    <script src="../post.js"></script>
</head>
<body>
    <h1>TESTING</h1>
    <h2>Mindmap Static</h2>
    <table border="1">
        <tr>
            <td><img id="svgMindmapImage1"/></td>
            <td><button onclick="update(1)">Update</button><br>
                <textarea id="svgMindmapTA1" rows="10" cols="60"></textarea></td>
        </tr>
        <tr>
            <td><img id="svgMindmapImage2"/></td>
            <td><button onclick="update(2)">Update</button><br>
                <textarea id="svgMindmapTA2" rows="10" cols="60"></textarea></td>
        </tr>
        <tr>
            <td><img id="svgMindmapImage3"/></td>
            <td><button onclick="update(3)">Update</button><br>
                <textarea id="svgMindmapTA3" rows="10" cols="60"></textarea></td>
        </tr>
    </table>
    <h2>Mindmap Dynamic</h2>
</body>
<script>
    document.getElementById("svgMindmapTA1").value = `{
    size: [500, 200]
},[
    //{title:'bla', color:{back, text, border}, sub:[], size:16}  //size is in px
    {title:"ROOT", sub:[1,2], pos:['right', 'right'], size:32},
    {title:"SUB1", sub:[3]},
    {title:"SUB2\\nThe best sub"},
    {title:"SUB1\\nNr: 1", size:10}
]`
document.getElementById("svgMindmapTA2").value = `{
    size: [500, 200]
},[
    //{title:'bla', color:{back, text, border}, sub:[], size:16}  //size is in px
    {title:"ROOT", sub:[1,2], pos:['left', 'right'], size:32},
    {title:"SUB1", sub:[3,4]},
    {title:"SUB2\\nThe best sub"},
    {title:"SUB1\\nNr: 1", size:10},
    {title:"SUB1\\nNr: 2", size:10},
]`
document.getElementById("svgMindmapTA3").value = `{
    size: [500, 200],
    color:{
        text:"black",
        border:"blue",
        back:"red",
        line:"green"
    },
},[
    //{title:'bla', color:{back, text, border}, sub:[], size:16}  //size is in px
    {title:"ROOT", sub:[1,2], pos:['right', 'right'], size:32},
    {title:"SUB1", sub:[3]},
    {title:"SUB2\\nThe best sub"},
    {title:"SUB1\\nNr: 1", size:10}
]`

update = function(nr){
    let svg = eval("BF.svg.mindmap("+document.getElementById("svgMindmapTA"+nr).value+")")
    document.getElementById("svgMindmapImage"+nr).src = "data:image/svg+xml;base64,"+btoa(svg)
}

update(1)
update(2)
update(3)

</script>
</html>